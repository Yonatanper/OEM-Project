// Load dependencies.
var timestamp = require('./timestamp')

var timers = {}

/**
 * Start timer.
 * 
 */
exports.start = function(timer_name, verbose) {
    if (verbose === true) {
        console.log('[TIMER] start - %s', timer_name)
    }

    timers[timer_name] = {
        'start': timestamp.now(),
        'stop': undefined,
        'delta': undefined
    }
}

/**
 * Stop timer and calculate delta.
 * 
 */
exports.stop = function(timer_name, verbose) {
    if (verbose === true) {
        console.log('[TIMER] stop  - %s', timer_name)
    }

    var timer = timers[timer_name]
    timer.stop = timestamp.now()
    timer.delta = timer.stop - timer.start

    if (verbose === true) {
        console.log('[TIMER] delta - %s: %s (%s seconds)', timer_name, timer.delta, timer.delta/1000)
    }
}

/**
 * Get timer specified from `timers`.
 * 
 */
exports.get = function(timer_name) {
    return timers[timer_name]
}

/**
 * Remove timer from `timers`.
 * 
 */
exports.remove = function(timer_name) {
    if (timers[timer_name]) {
        timers[timer_name] = undefined
    }
}
